#  Описание проекта

   Данный проект возник из домашнего задания:
   - Создайте новые ветки в вашем репозитории для работы по GitFlow.
Создайте новый репозиторий на GitHub, который будет использоваться для хранения и совместной работы над вашим проектом.
Залейте содержимое вашего локального репозитория в созданный репозиторий на GitHub, используя команды 
git add , git commit и git push 1.

* В директории 
**_src_** вашего проекта создайте модуль 
processing
, который будет содержать новые функции обработки данных.


* В модуле **_processing_** напишите функцию 
_filter_by_state_
, которая принимает список словарей и опционально значение для ключа 
state
(по умолчанию 
'EXECUTED'). 


* Функция возвращает новый список словарей, содержащий только те словари, у которых ключ 
state
 соответствует указанному значению.
   
## Реализация проекта

* В  модуле напишите функцию 
sort_by_date
, которая принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию — убывание). Функция должна возвращать новый список, отсортированный по дате (
date
).
### Пример работы функции

* Выход функции (сортировка по убыванию, т. е. сначала самые последние операции)
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

### Пример входных данных для проверки функции

* [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]

#### Реализация функций
- Функция принимает на вход список словарей с данными о банковских операциях и параметр 
state
, возвращает новый список, содержащий только те словари, у которых ключ 
state
 содержит переданное в функцию значение.
Параметр 
state
 функции имеет значение по умолчанию 
'EXECUTED'.

* Функция принимает на вход список словарей и параметр порядка сортировки, возвращает новый список, в котором исходные словари отсортированы по дате.
Параметр порядка сортировки функции имеет значение по умолчанию 
'True'

#### Работа с _**Git и GitHub**_
* Домашка сдана через pull request из ветки домашней работы в ветку 
develop.

* Создан GitHub-репозиторий.
В репозитории на GitHub есть ветки  **_main и develop_** .
Разработка велась в ветке с префиксом **feature**.

* Соблюдается точечность коммитов

  - в pull request более 2 коммитов. 
  - В репозитории есть оформленный по правилам README-файл с описанием проекта.
  - В коммиты не добавлены игнорируемые файлы.

***

 **_Используйте библиотеку pytest_** и напишите тесты для существующего кода проекта.
Ниже приведены примеры тест-кейсов. Вы можете использовать их или реализовать свои.

***

# Покрытие тестами

Примеры тест-кейсов для существующего функционала
## Модуль _**masks**_

### Функция _get_mask_card_number_:

- Тестирование правильности маскирования номера карты.
  - Проверка работы функции на различных входных форматах номеров карт, включая граничные случаи и нестандартные длины номеров.
  - Проверка, что функция корректно обрабатывает входные строки, где отсутствует номер карты.

### Функция _get_mask_account_:

- Тестирование правильности маскирования номера счета.
  - Проверка работы функции с различными форматами и длинами номеров счетов.
  - Проверка, что функция корректно обрабатывает входные данные, где номер счета меньше ожидаемой длины.

## Модуль _widget_

### Функция _mask_account_card_:

- Тесты для проверки, что функция корректно распознает и применяет нужный тип маскировки в зависимости от типа входных данных (карта или счет).
Параметризованные тесты с разными типами карт и счетов для проверки универсальности функции.
Тестирование функции на обработку некорректных входных данных и проверка ее устойчивости к ошибкам.

### Функция _get_date_:

- Тестирование правильности преобразования даты.
Проверка работы функции на различных входных форматах даты, включая граничные случаи и нестандартные строки с датами.
Проверка, что функция корректно обрабатывает входные строки, где отсутствует дата.

## Модуль processing

### Функция _filter_by_state_:

* Тестирование фильтрации списка словарей по заданному статусу 
state.
* Проверка работы функции при отсутствии словарей с указанным статусом 
state в списке.

* Параметризация тестов для различных возможных значений статуса
state.

### Функция _sort_by_date_:

- Тестирование сортировки списка словарей по датам в порядке убывания и возрастания.
Проверка корректности сортировки при одинаковых датах.
Тесты на работу функции с некорректными или нестандартными форматами дат.

### Общие аспекты тестирования 

- **_Фикстуры_**. 
  - Для всех тестов создайте фикстуры, которые предоставят тестовые данные для списков словарей, включая различные случаи и комбинации 
state и date.


   ***
   ***
- **_Покрытие тестами_**. 
  - Убедитесь, что все ветви кода и исключения, которые могут быть сгенерированы вашими функциями, тестируются.

  - Примените фикстуры для создания необходимых входных данных для тестов.
Используйте параметризацию в тестах для обеспечения тестирования функциональности с различными входными данными, избегайте дублирования кода.
Добейтесь покрытия тестами не менее 80% кода.

***

**Задание на функцию generators**

Продолжаем работу над проектом. Возникла задача — создать инструменты для эффективной работы с большими объемами данных транзакций, используя возможности Python для обработки данных через генераторы. Эти генераторы должны позволять финансовым аналитикам быстро и удобно находить нужную информацию о транзакциях и проводить анализ данных. Ваша задача — создать модуль 
generators
, который будет содержать функции для работы с массивами транзакций.

Задачи
Не забудьте, что мы работаем по GitFlow. Необходимо создать новую ветку от актуальной версии ветки разработки и выполнять задания в ней.

Создайте новый модуль в вашем проекте под названием 
generators
. Этот модуль будет содержать все новые функции, реализующие генераторы для обработки данных.
Создайте функцию 
filter_by_currency
, которая принимает на вход список словарей, представляющих транзакции.
Функция должна возвращать итератор, который поочередно выдает транзакции, где валюта операции соответствует заданной (например, USD).

***

Напишите генератор 

**transaction_descriptions**

, который принимает список словарей с транзакциями и возвращает описание каждой операции по очереди.

Создайте генератор 
card_number_generator
, который выдает номера банковских карт в формате 
XXXX XXXX XXXX XXXX
, где 
X
 — цифра номера карты. Генератор может сгенерировать номера карт в заданном диапазоне от 0000 0000 0000 0001 до 9999 9999 9999 9999.
Генератор должен принимать начальное и конечное значения для генерации диапазона номеров.

Напишите тесты для нового функционала проекта. Добейтесь покрытия тестами не менее 80% кода.

Примеры тест-кейсов
Тестирование функции 
filter_by_currency
:
Напишите тесты, проверяющие, что функция корректно фильтрует транзакции по заданной валюте.
Проверьте, что функция правильно обрабатывает случаи, когда транзакции в заданной валюте отсутствуют.
Убедитесь, что генератор не завершается ошибкой при обработке пустого списка или списка без соответствующих валютных операций.

***
Тестирование функции 

**transaction_descriptions
:**

Проверьте, что функция возвращает корректные описания для каждой транзакции.
Тестируйте работу функции с различным количеством входных транзакций, включая пустой список.
Тестирование генератора 

**card_number_generator**
:

Напишите тесты, которые проверяют, что генератор выдает правильные номера карт в заданном диапазоне.
Проверьте корректность форматирования номеров карт.
Убедитесь, что генератор корректно обрабатывает крайние значения диапазона и правильно завершает генерацию.

**Задание на функцию generators**

Продолжаем работу над проектом. Возникла задача — создать инструменты для эффективной работы с большими объемами данных транзакций, используя возможности Python для обработки данных через генераторы. Эти генераторы должны позволять финансовым аналитикам быстро и удобно находить нужную информацию о транзакциях и проводить анализ данных. Ваша задача — создать модуль 
generators
, который будет содержать функции для работы с массивами транзакций.

Задачи
Не забудьте, что мы работаем по GitFlow. Необходимо создать новую ветку от актуальной версии ветки разработки и выполнять задания в ней.

Создайте новый модуль в вашем проекте под названием 
generators
. Этот модуль будет содержать все новые функции, реализующие генераторы для обработки данных.
Создайте функцию 
filter_by_currency
, которая принимает на вход список словарей, представляющих транзакции.
Функция должна возвращать итератор, который поочередно выдает транзакции, где валюта операции соответствует заданной (например, USD).

***

Напишите генератор 

**transaction_descriptions**

, который принимает список словарей с транзакциями и возвращает описание каждой операции по очереди.

Создайте генератор 
card_number_generator
, который выдает номера банковских карт в формате 
XXXX XXXX XXXX XXXX
, где 
X
 — цифра номера карты. Генератор может сгенерировать номера карт в заданном диапазоне от 0000 0000 0000 0001 до 9999 9999 9999 9999.
Генератор должен принимать начальное и конечное значения для генерации диапазона номеров.

Напишите тесты для нового функционала проекта. Добейтесь покрытия тестами не менее 80% кода.

Примеры тест-кейсов
Тестирование функции 
filter_by_currency
:
Напишите тесты, проверяющие, что функция корректно фильтрует транзакции по заданной валюте.
Проверьте, что функция правильно обрабатывает случаи, когда транзакции в заданной валюте отсутствуют.
Убедитесь, что генератор не завершается ошибкой при обработке пустого списка или списка без соответствующих валютных операций.

***
Тестирование функции 

**transaction_descriptions
:**

Проверьте, что функция возвращает корректные описания для каждой транзакции.
Тестируйте работу функции с различным количеством входных транзакций, включая пустой список.
Тестирование генератора 

**card_number_generator**
:

Напишите тесты, которые проверяют, что генератор выдает правильные номера карт в заданном диапазоне.
Проверьте корректность форматирования номеров карт.
Убедитесь, что генератор корректно обрабатывает крайние значения диапазона и правильно завершает генерацию.


***

**Покрытие тестами и  html-отчет**

** Дерево проекта **

(pythonproject6-py3.12) MBPVitaKorzuhin:pythonProject6 VitaliyKorzuhin$ tree
.
├── README.md
├── __pycache__
│   ├── masks.cpython-312-pytest-8.3.5.pyc
│   ├── processing.cpython-312-pytest-8.3.5.pyc
│   ├── test_masks.cpython-312-pytest-8.3.5.pyc
│   ├── test_processing.cpython-312-pytest-8.3.5.pyc
│   └── test_processing1.cpython-312-pytest-8.3.5.pyc
├── htmlcov
│   ├── class_index.html
│   ├── coverage_html_cb_6fb7b396.js
│   ├── favicon_32_cb_58284776.png
│   ├── function_index.html
│   ├── index.html
│   ├── keybd_closed_cb_ce680311.png
│   ├── status.json
│   ├── style_cb_8e611ae1.css
│   └── z_145eef247bfb46b6_generators_py.html
├── main.py
├── poetry.lock
├── pyproject.toml
├── requirements.txt
├── src
│   ├── __init__.py
│   ├── __pycache__
│   │   ├── __init__.cpython-312.pyc
│   │   ├── generators.cpython-312.pyc
│   │   ├── masks.cpython-312.pyc
│   │   ├── processing.cpython-312.pyc
│   │   └── widget.cpython-312.pyc
│   ├── example.py
│   ├── generators.py
│   ├── helloworld.py
│   ├── helpers.py
│   ├── masks.py
│   ├── processing.py
│   └── widget.py
└── tests
    ├── __init__.py
    ├── __pycache__
    │   ├── __init__.cpython-312.pyc
    │   ├── test_demo.cpython-312-pytest-8.3.5.pyc
    │   ├── test_demo.cpython-312-pytest-8.4.0.pyc
    │   ├── test_generators.cpython-312-pytest-8.3.5.pyc
    │   ├── test_generators.cpython-312-pytest-8.4.0.pyc
    │   ├── test_masks.cpython-312-pytest-8.3.5.pyc
    │   ├── test_masks.cpython-312-pytest-8.4.0.pyc
    │   ├── test_processing.cpython-312-pytest-8.3.5.pyc
    │   ├── test_processing.cpython-312-pytest-8.4.0.pyc
    │   ├── test_widget.cpython-312-pytest-8.3.5.pyc
    │   ├── test_widget.cpython-312-pytest-8.4.0.pyc
    │   └── test_widget.cpython-312.pyc
    ├── test_demo.py
    ├── test_generators.py
    ├── test_masks.py
    ├── test_processing.py
    └── test_widget.py

7 directories, 50 files
(pythonproject6-py3.12) MBPVitaKorzuhin:pythonProject6 VitaliyKorzuhin$ 



