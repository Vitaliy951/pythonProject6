#  Описание проекта

   Данный проект возник из домашнего задания:
   - Создайте новые ветки в вашем репозитории для работы по GitFlow.
Создайте новый репозиторий на GitHub, который будет использоваться для хранения и совместной работы над вашим проектом.
Залейте содержимое вашего локального репозитория в созданный репозиторий на GitHub, используя команды 
git add , git commit и git push 1.

* В директории 
**_src_** вашего проекта создайте модуль 
processing
, который будет содержать новые функции обработки данных.


* В модуле **_processing_** напишите функцию 
_filter_by_state_
, которая принимает список словарей и опционально значение для ключа 
state
(по умолчанию 
'EXECUTED'). 


* Функция возвращает новый список словарей, содержащий только те словари, у которых ключ 
state
 соответствует указанному значению.
   
## Реализация проекта

* В  модуле напишите функцию 
sort_by_date
, которая принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию — убывание). Функция должна возвращать новый список, отсортированный по дате (
date
).
### Пример работы функции

* Выход функции (сортировка по убыванию, т. е. сначала самые последние операции)
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

### Пример входных данных для проверки функции

* [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]

#### Реализация функций
- Функция принимает на вход список словарей с данными о банковских операциях и параметр 
state
, возвращает новый список, содержащий только те словари, у которых ключ 
state
 содержит переданное в функцию значение.
Параметр 
state
 функции имеет значение по умолчанию 
'EXECUTED'.

* Функция принимает на вход список словарей и параметр порядка сортировки, возвращает новый список, в котором исходные словари отсортированы по дате.
Параметр порядка сортировки функции имеет значение по умолчанию 
'True'

#### Работа с _**Git и GitHub**_
* Домашка сдана через pull request из ветки домашней работы в ветку 
develop.

* Создан GitHub-репозиторий.
В репозитории на GitHub есть ветки  **_main и develop_** .
Разработка велась в ветке с префиксом **feature**.

* Соблюдается точечность коммитов

  - в pull request более 2 коммитов. 
  - В репозитории есть оформленный по правилам README-файл с описанием проекта.
  - В коммиты не добавлены игнорируемые файлы.

***

 **_Используйте библиотеку pytest_** и напишите тесты для существующего кода проекта.
Ниже приведены примеры тест-кейсов. Вы можете использовать их или реализовать свои.

***

# Покрытие тестами

Примеры тест-кейсов для существующего функционала
## Модуль _**masks**_

### Функция _get_mask_card_number_:

- Тестирование правильности маскирования номера карты.
  - Проверка работы функции на различных входных форматах номеров карт, включая граничные случаи и нестандартные длины номеров.
  - Проверка, что функция корректно обрабатывает входные строки, где отсутствует номер карты.

### Функция _get_mask_account_:

- Тестирование правильности маскирования номера счета.
  - Проверка работы функции с различными форматами и длинами номеров счетов.
  - Проверка, что функция корректно обрабатывает входные данные, где номер счета меньше ожидаемой длины.

## Модуль _widget_

### Функция _mask_account_card_:

- Тесты для проверки, что функция корректно распознает и применяет нужный тип маскировки в зависимости от типа входных данных (карта или счет).
Параметризованные тесты с разными типами карт и счетов для проверки универсальности функции.
Тестирование функции на обработку некорректных входных данных и проверка ее устойчивости к ошибкам.

### Функция _get_date_:

- Тестирование правильности преобразования даты.
Проверка работы функции на различных входных форматах даты, включая граничные случаи и нестандартные строки с датами.
Проверка, что функция корректно обрабатывает входные строки, где отсутствует дата.

## Модуль processing

### Функция _filter_by_state_:

* Тестирование фильтрации списка словарей по заданному статусу 
state.
* Проверка работы функции при отсутствии словарей с указанным статусом 
state в списке.

* Параметризация тестов для различных возможных значений статуса
state.

### Функция _sort_by_date_:

- Тестирование сортировки списка словарей по датам в порядке убывания и возрастания.
Проверка корректности сортировки при одинаковых датах.
Тесты на работу функции с некорректными или нестандартными форматами дат.

### Общие аспекты тестирования 

- **_Фикстуры_**. 
  - Для всех тестов создайте фикстуры, которые предоставят тестовые данные для списков словарей, включая различные случаи и комбинации 
state и date.


   ***
   ***

- **_Покрытие тестами_**.
-
    - Убедитесь, что все ветви кода и исключения, которые могут быть сгенерированы вашими функциями, тестируются.

  - Примените фикстуры для создания необходимых входных данных для тестов.
Используйте параметризацию в тестах для обеспечения тестирования функциональности с различными входными данными, избегайте дублирования кода.
Добейтесь покрытия тестами не менее 80% кода.

***
**Для разработки нового модуля decorators**

Создайте новый модуль в вашем проекте, который будет называться
_decorators_

***

. Этот модуль будет использоваться для размещения декораторов, включая декоратор
log

.
Напишите декоратор
log

, который будет автоматически логировать начало и конец выполнения функции, а также ее результаты или возникшие ошибки.
Декоратор должен принимать необязательный аргумент
filename

, который определяет, куда будут записываться логи (в файл или в консоль):

Если
filename
задан, логи записываются в указанный файл.
Если
filename
не задан, логи выводятся в консоль.
Логирование должно включать:

Имя функции и результат выполнения при успешной операции.
Имя функции, тип возникшей ошибки и входные параметры, если выполнение функции привело к ошибке.

критерии

Работа с GitHub

Домашка сдана через pull request из ветки домашней работы в ветку develop.

В коммиты не добавлены игнорируемые файлы.

README-файл дополнен информацией о новом функционале.

***
**Создание декоратора log**
***
Cоздан модуль
decorators
.

Реализован декоратор
log
.

Декоратор может логировать работу функции и ее результат как в файл, так и в консоль.

Декоратор
log
принимает необязательный аргумент
filename
, который определяет имя файла, в который будут записываться логи.

Если
filename
не задан, то логи выводятся в консоль.

Если вызов функции закончился ошибкой, записывается сообщение об ошибке и входные параметры функции.

**

Тестирование декораторов

Написаны тесты к декоратору.

Функциональный код покрыт тестами на 80% и более.

При запуске тестов командой
pytest
все тесты завершаются успешно.

В репозитории есть папка с отчетом покрытия тестами в формате HTML.

Оформление кода
При запуске линтера Flake8 выдается не более 5 ошибок.

Для всех реализованных функций написаны docstring.

Нейминг функций отвечает правилам оформления кода PEP 8.

Работа с линтерами и форматерами
При вызове
isort
***
форматируется не более 1 импорта.
***


